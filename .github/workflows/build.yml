name: test
on:
  push:

jobs:
  build:
    runs-on: ubuntu-20.04
    steps:
      - name: Check out this project
        uses: actions/checkout@v2
      - name: Test
        run: |
          echo "GH ACTOR: " "$GITHUB_ACTOR"
          git config --list
          git config user.email || echo "failed"
      - name: Var test step 1
        run: |
          export VAR1=true
          echo "(env)     VAR1=$VAR1"
          echo "(context) VAR1=${{ env.VAR1 }}"
          echo "VAR2=true" >> $GITHUB_ENV
          echo "(env)     VAR2=$VAR2"
          echo "(context) VAR2=${{ env.VAR2 }}"
          echo "VAR3=1" >> $GITHUB_ENV
      - name: Var test step 2
        run: |
          echo "(env)     VAR1=$VAR1"
          echo "(context) VAR1=${{ env.VAR1 }}"
          echo "(env)     VAR2=$VAR2"
          echo "(context) VAR2=${{ env.VAR2 }}"
          echo "(context) VAR2 == 'x': ${{ env.VAR2 == 'x' }}"
          echo "(context) VAR2 == 'true': ${{ env.VAR2 == 'true' }}"
          echo "(context) VAR3=${{ env.VAR3 }}"
          echo "(context) VAR3 && VAR3=${{ env.VAR3 && env.VAR3 }}"
          echo "(context) !VAR3=${{ !env.VAR3 }}"
          echo "(context) !!VAR3=${{ !!env.VAR3 }}"

